------

### 一、 核心策略：以老带新，模块隔离

大一同学主要负责**“独立性强、逻辑简单、甚至可以是纯静态”的工作。

大二同学负责“架构搭建、数据流转、复杂逻辑”**，并承担 Code Review（代码审查）的责任。

#### 1. 服务端组 (C++ / Drogon) - 共 7 人

- **组长 (1人，大二):** 负责数据库设计、API 接口定义、Git 分支管理。
- **核心开发 (3人，大二):**
  - A: 负责 WebSocket 核心（Drogon Controller, 连接管理）。
  - B: 负责 Redis 在线状态管理、消息路由逻辑。
  - C: 负责 HTTP 接口逻辑（JWT 校验、文件上传处理）。
- **基础开发 (3人，大一):**
  - **任务特点：** 不需要理解复杂的异步/多线程，只需写好**Helper 函数**和 **SQL 语句**。
  - **具体分工：**
    - 写 SQL 封装函数：如 `getUserById(id)`, `saveMessage(msg)`, `getHistory(limit)`。
    - 写工具函数：如 `isValidEmail()`, `jsonToString()`, 时间戳转换。
    - 负责编写单元测试数据（向数据库里塞假数据供大二测试）。

#### 2. 客户端组 (Electron / React) - 共 7 人

- **组长 (1人，大二):** 负责项目脚手架搭建、Zustand 全局状态设计、路由配置。
- **核心开发 (3人，大二):**
  - A: 负责 WebSocket 客户端封装（断连重连、心跳）。
  - B: 负责 Electron 主进程（通知、托盘、窗口控制）。
  - C: 负责复杂交互组件（如：消息列表的自动滚动、虚拟列表优化）。
- **UI 开发 (3人，大一):**
  - **任务特点：** 也就是所谓的“切图仔”（无贬义），负责把设计图变成代码。**不需要管数据怎么来**，只需要用 Props 把界面画漂亮。
  - **具体分工：**
    - 画静态组件：登录框、聊天气泡（左边/右边）、好友列表项、按钮、输入框。
    - 学习 Tailwind CSS，负责调颜色、边距、圆角。

------

### 二、 9周“滚动式”学习与开发规划

**关键原则：** 所有的学习作业，必须是项目的一部分。

#### **阶段一：环境与基础 (第 1 - 2 周)**

- **目标：** 全员跑通 Hello World，环境配置一致。
- **大二任务：**
  - **服务端：** 跑通 Drogon 官方 Demo，连接上 MySQL。
  - **客户端：** 搭建 React + Electron + Tailwind 环境，推送到 Git 仓库。
- **大一任务：**
  - **全员：** 学习 Git (clone, pull, add, commit, push)。
  - **服务端：** 学习 C++ 基础语法，安装 MySQL Workbench，学会写 `SELECT` 和 `INSERT`。
  - **客户端：** 学习 HTML/CSS 基础，配置 Node.js 环境，能运行组长搭建好的项目。
- **产出物：** 每个人都能在自己电脑上运行起一个空壳项目。

#### **阶段二：组件与单元开发 (第 3 - 5 周) —— 关键期**

- **目标：** 大一开始产出“积木”，大二开始写“骨架”。
- **大一任务 (做积木):**
  - **客户端大一：** “我需要你们画一个聊天气泡组件，接收 `text` 和 `isMe` 两个参数。如果是 `isMe` 就显示绿色靠右，否则白色靠左。” (不需要管网络请求)。
  - **服务端大一：** “我需要一个 C++ 函数，输入 `user_id`，返回 `std::string` 类型的用户昵称。你们去查 MySQL 文档看怎么实现。”
- **大二任务 (搭骨架):**
  - **服务端：** 实现 WebSocket 的握手、鉴权、Map 存储连接。
  - **客户端：** 封装 Axios 请求，封装 `useWebSocket` Hook，配置 Zustand Store。
- **Code Review:** 每周末，大二组长必须检查大一的代码，帮忙指出规范问题。

#### **阶段三：拼装与预联调 (第 6 - 7 周)**

- **目标：** 将大一写的“积木”拼到大二写的“骨架”上。
- **动作：**
  - 客户端：把大一画的“静态登录页”接入大二写的“登录逻辑”。
  - 服务端：把大一写的“SQL 函数”放入大二写的“Controller”中调用。
- **产出物：** 到第 7 周结束时，虽然界面可能很丑，bug 很多，但应该能实现：**A 输入账号登录，发送“你好”，B 收到“你好”。**

#### **阶段四：集中攻坚 (第 8 - 9 周) —— 最后的冲刺**

- **状态：** 此时已经进入“全员开发模式”。
- **大二职责：** 疯狂修 Bug，优化性能，处理断线重连、内存泄漏等“硬核”问题。
- **大一职责：**
  - **UI 细节打磨：** “这个按钮歪了，大一同学修一下。”，“这里加个鼠标悬停效果”。
  - **测试：** 充当测试人员，注册10个账号互相发消息，试图把服务器搞崩，记录 Bug 列表。
  - **文案与文档：** 编写使用说明书，准备答辩/展示 PPT。

------

### 三、 给大一同学的“特别生存指南”

为了不让大一同学觉得挫败，请明确告诉他们：

1. **不懂就问，不要卡着：** 设定“1小时原则”。如果一个环境报错卡了1小时还没解决，**必须**在群里问大二学长。
2. **AI 是好老师：** 鼓励他们用 ChatGPT/Gemini 问代码细节。例如：“请用 React 和 Tailwind 写一个聊天气泡组件，要求……” 或者 “C++ Drogon 如何读取 MySQL 数据？”。
3. **不要碰核心逻辑：** 告诉他们，他们的任务是**“让界面好看”**和**“数据存取正确”**，复杂的并发和网络他们暂时不需要懂，那是大二的任务。

### 四、 进度监控表 (Checklist)

| **时间**  | **关键节点 (Milestone)**                                     | **负责人** |
| --------- | ------------------------------------------------------------ | ---------- |
| **第1周** | 所有人的开发环境（VSCode, C++编译器, Node.js, DB）无报错     | 组长       |
| **第2周** | 确定 JSON 通信协议文档（字段名、数据类型）                   | 架构组     |
| **第4周** | 客户端大一同学完成所有**静态页面**（由于不含逻辑，这完全可行） | 客户端组长 |
| **第5周** | 服务端大一同学完成所有**SQL操作函数**的编写与单元测试        | 服务端组长 |
| **第7周** | **联调成功**：能够完成一次最简陋的 WebSocket 消息收发        | 全员       |
| **第9周** | 打包发布，演示                                               | 全员       |

这个方案的核心在于：**不要把 7 周纯粹当成“上课”，而是把大工程拆成小零件，让大一在前 7 周慢慢造零件，最后 2 周大二负责组装。** 这样既能保证项目完成，也能让大一学到东西。